# 监控

服务监控的四大方向：

- 计算：CPU 占用
- 存储：内存占用、硬盘占用
- 网络：网络上下行带宽占用
- 软件异常事件：重启、OOM、Core Dump

两种监控告警方案：

- 外部黑盒监控，模仿用户访问服务的全链路
- 服务内部监控，监控业务指标数据

业务监控的四个黄金指标：

- 延迟
- 吞吐量
- 错误
- 饱和度（CPU / MEM）

监控系统只需要三种级别的输出：

- 告警（需要介入人员脑力思考的异常才需要告警）
  
    告警一定是需要人工介入的问题，可以由系统自动处理的问题不应该发出告警。过多的无效告警会让开发者人员产生告警疲劳，从而忽略真正需要人工介入的告警。
  
    同理，业务监控指标的阈值配置也应合理，避免产生过多的伪告警。例如，有些业务逻辑会导致 CPU 短时内飙高，但是实际上是正常的业务负载，这是如果过于敏感地监控指标，则会产生大量的伪告警。

- 工单（天级别处理）
- 日志


# Logging 日志

# Metrics 指标

# Tracing 链路追踪

# Ref

- [Google SRE](https://book.douban.com/subject/26875239/)